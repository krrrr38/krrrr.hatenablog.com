---
Title: ConcurrentMofidicationException
Category:
- java
Date: 2011-05-22T20:23:57+09:00
URL: https://krrrr.hatenablog.com/entry/20110522/1306063437
EditURL: https://blog.hatena.ne.jp/krrrr/krrrr.hatenablog.com/atom/entry/11696248318756263082
---

<span class="deco" style="color:#FF0000;">java.util.ConcurrentModificationException</span>

このような例外を頂きました
一応どのようなものかと言うとjavadocから引用
>||
この例外は、オブジェクトの同時変更を検出したメソッドによって、そのような変更が許可されていない場合にスローされます。 
||<

特に並列とかもなにもしてないんですが，
Iteratorを用いた際の反復的削除が行われる際に生じる模様．
>||
for (HashMap<String, String> taple : taples) {
	System.out.println(taple.values());
	if (taple.values().containsAll(deleteTaple)) {
		taples.remove(taple);
	}
}
||<
こんな感じのとこで生じてました．
-<a href="http://www.eeb.co.jp/2008/01/_36_foriterator.html" style="color:#ff00ff">第 36 回 〜 拡張for文とIterator 〜</a>
-<a href="http://osca-note.blogspot.com/2009/11/java-concurrentmodificationexception.html" style="color:#ff00ff">Memolt : Java : ConcurrentModificationException </a>
こちらの方などを参考に適当になおしなおし
自分の以前のコードを再利用しなければならなく，taplesがCollectionの中にHashMapが入ってるという糞な仕様なせいで結果としてこんな感じで動きました
>||
Object[] tapleList = taples.toArray();
for (Object taple : tapleList) {
	if (((HashMap<String, String>) taple).values().containsAll(deleteTaple)) {
		taples.remove(taple);
	}
}
||<

知らない例外がでるとあせるあせる…
