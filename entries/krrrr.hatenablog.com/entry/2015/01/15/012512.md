---
Title: 温泉シバソン#1
Category:
- 雑記
- Play
- sbt
- Scala
Date: 2015-01-15T01:25:12+09:00
URL: https://krrrr.hatenablog.com/entry/2015/01/15/012512
EditURL: https://blog.hatena.ne.jp/krrrr/krrrr.hatenablog.com/atom/entry/8454420450080265436
---

自称若者達が雑に作業したりしなかったりする概念っぽいのがシバソン((http://blog.shibayu36.org/entry/2014/10/27/092356))

癒やしを求めて温泉でシバソンするって感じで有馬温泉に行ってきた

[http://shibathon.hatenablog.com/category/%E6%B8%A9%E6%B3%89%E3%82%B7%E3%83%90%E3%82%BD%E3%83%B3%231:title]

温泉入って、美味しいご飯食べれたし、こういうの作れたし満足
[https://github.com/krrrr38/play-autodoc:embed]

最寄り駅からバスで1本で行けると信じて当日バス乗り込んだら、道路封鎖されてて遅刻したのはミスった。バスが山越えで異常に酔うし最寄り駅まで戻されるために往復しなきゃだしつらかった。
<!-- more -->

今回作ったplay-autodoc、[https://github.com/r7kamura/autodoc/:title]がオリジナルで、Play2.xで使えるやつ作ったって感じ。`play-autodoc-core`と`sbt-plugin`を別に作って、Playみたいにsbt-plugin入れたら`libraryDependencies`に本体が追加される、みたいな世界観で作った。同時にautodoc用のConfiguration追加して、このScopeにおけるテストを実行した時のみドキュメントが生成される。
オリジナルはRSpecの機能使ってるけど、Play書いてる人はSpecsもScalaTestも使ってる人いるし、そもそものPlayのテストヘルパーを拡張する感じで書いた。おかげで全部のテスト終了後...みたいのは取れないからその辺はsbt-pluginでフォローする感じ。

sbt-pluginは一度しか書いたことないし、sbt自体も`sourceGenerators`でコンパイル時にコード生成したりするぐらいしかしたことなかったから結構つまずいた。そもそも今回書いたのがいい方法なのかわからない。PlayがやってるようにPlay自体の`libraryDependencies`に与えるversionとsbt-pluginのversionを同じにするためにコード生成したり、sbtに渡した設定値も一度書き出してから渡したりしてる。
使ってないけど、Tests.Cleanupとか使う感じにしても良いかも。

sbt、ドキュメント全部読んだけど異常に難しい ∧ 出来る事めっちゃ多い。ベストプラクティス的な本が欲しい。

大体シバソン気が向いたら適当に家で一人で作業しつつ、適当にSlackのログ眺めてたりしてる。いつも本読んだりなんかしたりして過ぎ去る時間を、取り敢えず便利ツール作るかって感じで色々リポジトリ増えたりしてるの面白い。

[https://github.com/krrrr38?tab=repositories:title]


- 他の参加した人の記録
  - [http://blog.shibayu36.org/entry/2015/01/12/163233:title]
  - [http://r7kamura.hatenablog.com/entry/2015/01/12/233308:title]
  - [http://blog.yucchiy.com/2015/01/12/shibathon-in-arima/:title]
  - [http://fromatom.hatenablog.com/entry/2015/01/13/200112:title]
