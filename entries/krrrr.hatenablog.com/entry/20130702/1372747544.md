---
Title: Wikipediaデータインポート
Category:
- その他
Date: 2013-07-02T15:45:44+09:00
URL: https://krrrr.hatenablog.com/entry/20130702/1372747544
EditURL: https://blog.hatena.ne.jp/krrrr/krrrr.hatenablog.com/atom/entry/11696248318756262880
---

xml2sqlを使ったwikipedia dumpのデータインポート
現時点では[http://d.hatena.ne.jp/zabbio/20121115/1352987514:title]が良い感じ
古い情報だとxml2sqlでparseする際に何かしらエラーを吐く事がある
page-articlesでも10分程で入力ファイルを生成する

tableの作成は，[http://www.mediawiki.org/wiki/Download:title=MediaWiki]のものを利用
ダウンロード後，maintenance/tables.sqlに各種定義がある

各ファイル詳細 : [http://www.mwsoft.jp/programming/munou/wikipedia_data_list.html:title]

** タイトルから本文の取得
>|sql|
select old_text where page, revision, text
     where page_title    = 'hoge'
         and page_id     = rev_page
         and rev_text_id = old_id
||<
