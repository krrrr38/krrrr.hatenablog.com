---
Title: hatena-bookmark4j 作った
Date: 2014-01-20T22:52:19+09:00
URL: https://krrrr.hatenablog.com/entry/2014/01/20/225219
EditURL: https://blog.hatena.ne.jp/krrrr/krrrr.hatenablog.com/atom/entry/12921228815716892751
---

** 何これ
hatena-bookmark4j というライブラリを作ったんで，色々使って貰って駄目出し喰らいたい

- [https://github.com/krrrr38/hatena-bookmark4j:title]

** 趣旨
- はてなブックマーク頑張って欲しい
- [https://github.com/hatena/Hatena-Bookmark-iOS-SDK:title=Hatena-Bookmark-iOS-SDK] がなんだ，負けられん
- Java 書きたかった
- Signpost とか使わず，返ってくる json もマッピングするようなものをまとめただけ
- そもそも認証いらないエンドポイントもあるし，その辺の通信もまとめただけ

** 概要
はてなブックマークが提供している json で返す API を適当に実装した [http://developer.hatena.ne.jp/ja/documents/bookmark:title=参考]

現時点で4つ分 (ページ単位) の機能を提供している
- [http://developer.hatena.ne.jp/ja/documents/auth/apis/oauth:title=OAuthRequestService]
-- OAuth 認証するための Service
- [http://developer.hatena.ne.jp/ja/documents/bookmark/apis/rest:title=RestService] (要OAuth)
-- 自分のブックマークを取得，投稿，削除するための Service
-- 他にもユーザ情報取得，タグ情報取得といった事も行える
- [http://developer.hatena.ne.jp/ja/documents/bookmark/apis/getinfo:title=EntryInfoService]
-- エントリー情報を取得するための Service
- [http://developer.hatena.ne.jp/ja/documents/bookmark/apis/fulltext_search:title=FulltextSearchService] (要OAuth，WSSEは廃止される予定なので組み込む予定無し)
-- 全文検索を行うための Service

** 希望
悪いとこ直して pull request 投げてもらいたい
認証やら大凡手書きなので間違ってたら指摘欲しい

** 謝罪
<s>Document 後で書きます，本当にすみません</s>
全体的に under development ってやつです

** 使い方
maven central には登録していないから以下のような感じで jar 作って読み込んで使って欲しい
後は README に使用例が書いてある
>|sh|
> git clone https://github.com/krrrr38/hatena-bookmark4j.git
> cd hatena-bookmark4j
> mvn clean compile jar:jar
> mv target/hatena-bookmark4j-x.x.x-SNAPSHOT.jar YOUR_PROJECT_DIR/lib
||<

** 云々
- 全体的に Twitter4j 参考にしつつ，通信とかは volley やらも参考に http 書いた
- 以下の2つ借用
-- BASE64Encoder， これだけ [http://twitter4j.org/:title=Twitter4j] から借りた，どこかでちゃんと書こう
-- Json のパースは [http://json.org/:title=JSON.org] のもの借りた，これは借りっぱなしでいいや
- HatenaBookmarkServiceFacotry から全ての Service は生成される
- 生成時にリフレクション使って ImplV1 とか呼んでる
- はてブの API ，エントリ情報返す場所多々あるが，各々が違うフィールド持ってて謎い

** お約束
http://www.amazon.co.jp/registry/wishlist/1HEYQLQTW461W
