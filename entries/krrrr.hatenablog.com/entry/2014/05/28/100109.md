---
Title: YouTube Extractor ってのを作った
Category:
- Ruby
- Rails
Date: 2014-05-28T10:01:09+09:00
URL: https://krrrr.hatenablog.com/entry/2014/05/28/100109
EditURL: https://blog.hatena.ne.jp/krrrr/krrrr.hatenablog.com/atom/entry/12921228815725094823
---

[http://krrrr.hatenablog.com/entry/2014/05/19/012928:title=以前]に railstutorial 読んで、取り敢えず何か作ろうって事で1個Webアプリを作ってみた

大体空いてる時間とか適当に使って9日ぐらいで出来たっぽい((研究...))

** 作ったもの
[http://youtube-extractor.herokuapp.com/:title] ってやつ

[f:id:krrrr:20140528084157p:plain:h350]
====
** 何が出来るか
+このへんのURL入れると良い感じに動画再生してくれる
-- [http://modernnomad.net/archives/2644464.html:title]
-- [http://himasoku.com/archives/51844134.html:title]
+ Sign inすると自分のYouTubeのプレイリストを操作できる
-- 新しくプレイリストを追加
-- プレイリストの削除
-- 現在再生中の動画をプレイリストに追加
-- プレイリストから動画を削除

シナリオとして、いっぱいYouTube動画が埋め込まれたページの動画を適当に流しながら、気に入ったのあれば自分のプレイリストに突っ込みたいって感じ

** 中身
*** そもそも
前に[http://krrrr.hatenablog.com/entry/2014/03/17/090523:title=Chrome拡張で似たようなのを作ってた]
これを今回拡張してWebアプリにした感じ

トップページあって残りAPIあるだけの俗にいうシングルページアプリケーションっぽいやつ
Angular使ってて、ng-view使ってきちんと構造化しようと思ったけど、そもそも今回作るの再利用性とか今のところ無さそうだしview、1個のファイルにベタ書きした

*** 云々
テストも外部API叩くのwebmockしまくってそこそこに書いた
外部API叩く系とかのをもっときちんとmodule化したほうが良さそう
今回はcontrollerの数少ないから正直あまりいらないんだけど、もし増えるんだったらしんどい

*** はまってたの
productionでAngular使ってminifyするのは以下ので良いんだけど、
>|ruby|
config.assets.js_compressor = Uglifier.new(:mangle => false)
||<
やってもやっても上手くいかないと思ってたら
>|sh|
rake tmp:cache:clear
||<
ってのしてなかったからだった
Rails、上手いことキャッシュとかやってくれるのは良いんだけどそこではまると辛かった

** Web系一般教養
この2週間程でRubyパって見てrailstutorialして、Railsで1個アプリ作ったみたいな感じ
取り敢えずWeb系一般教養的なRailsは学べたのではないかと思う
一般教養的な事を考えるとphp...??? CakePHPか...???
多分phpはそんな触れる機会無いだろうしあまり学びも無い気がするから Scala 戻ってもっとちゃんとやるかしたい
Scala ちゃんと学びたいって思いあるから多分 Scala する

Ruby、コレクション操作関数多いし、yieldでブロックを渡すと[https://github.com/krrrr38/YouTubeExtractor/blob/master/app/controllers/api/playlists_controller.rb#L174-L199:title=大体同じ処理構造化出来る]しって感じで良かった
