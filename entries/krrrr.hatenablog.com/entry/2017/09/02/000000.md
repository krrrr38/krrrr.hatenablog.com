---
Title: dropwizard-fluency-reporter
Category:
- Java
Date: 2017-09-02T00:00:00+09:00
URL: https://krrrr.hatenablog.com/entry/2017/09/02/000000
EditURL: https://blog.hatena.ne.jp/krrrr/krrrr.hatenablog.com/atom/entry/8599973812298977426
---

Dropwizard metrics x Fluend

時代はmicrometerへ流れてたりするが、趣味コードのmetricsを雑にmackerelに流したくなったので書いた

[https://github.com/krrrr38/dropwizard-fluency-reporter:embed:cite]

本当はprometheus使いたいけど趣味用の立てるの面倒だし、fluentdからmackerelに流してる

これ書いてる時に↓みたいなのあれば便利かなと思ったけど、やる気は無いし実現性もあまり無い

- mackerel-agentに収集したmetrics出すprometheus api endpoint生やす
- [https://github.com/prometheus/prometheus/tree/master/discovery:title] に mackerel-client-go でサービスディスカバリさせるの増やす
- prometheusにmackerel-agent入ったサーバーからpullさせる
